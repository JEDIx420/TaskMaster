"use strict";exports.id=666,exports.ids=[666],exports.modules={34474:(e,t,a)=>{a.d(t,{Bw:()=>k,Ph:()=>c,Ql:()=>w,i4:()=>u,ki:()=>m});var o=a(10326),r=a(17577),s=a(76913),i=a(941),d=a(96633),n=a(32933),l=a(77863);let c=s.fC;s.ZA;let m=s.B4,u=r.forwardRef(({className:e,children:t,...a},r)=>(0,o.jsxs)(s.xz,{ref:r,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,o.jsx(s.JO,{asChild:!0,children:o.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=s.xz.displayName;let p=r.forwardRef(({className:e,...t},a)=>o.jsx(s.u_,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(d.Z,{className:"h-4 w-4"})}));p.displayName=s.u_.displayName;let f=r.forwardRef(({className:e,...t},a)=>o.jsx(s.$G,{ref:a,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(i.Z,{className:"h-4 w-4"})}));f.displayName=s.$G.displayName;let k=r.forwardRef(({className:e,children:t,position:a="popper",...r},i)=>o.jsx(s.h_,{children:(0,o.jsxs)(s.VY,{ref:i,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[o.jsx(p,{}),o.jsx(s.l_,{className:(0,l.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(f,{})]})}));k.displayName=s.VY.displayName,r.forwardRef(({className:e,...t},a)=>o.jsx(s.__,{ref:a,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=s.__.displayName;let w=r.forwardRef(({className:e,children:t,...a},r)=>(0,o.jsxs)(s.ck,{ref:r,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(s.wU,{children:o.jsx(n.Z,{className:"h-4 w-4"})})}),o.jsx(s.eT,{children:t})]}));w.displayName=s.ck.displayName,r.forwardRef(({className:e,...t},a)=>o.jsx(s.Z0,{ref:a,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=s.Z0.displayName},33589:(e,t,a)=>{a.d(t,{l:()=>d});var o=a(17577),r=a(7007);let s={workDuration:25,shortBreakDuration:5,longBreakDuration:15,longBreakInterval:4},i={work:{label:"Focus Time",color:"text-primary dark:text-dark-primary"},shortBreak:{label:"Short Break",color:"text-green-500"},longBreak:{label:"Long Break",color:"text-blue-500"}};function d(e){let[t,a]=(0,o.useState)(s),[d,n]=(0,o.useState)({minutes:s.workDuration,seconds:0,isRunning:!1,mode:"work",session:1}),[l,c]=(0,o.useState)(60*s.workDuration),[m,u]=(0,o.useState)([]);(0,o.useRef)();let p=(0,o.useCallback)(e=>{a({...t,...e})},[t]),f=(0,o.useCallback)((e,t)=>{n(a=>({...a,currentTaskId:e,currentTaskTitle:t}))},[]),k=(0,o.useCallback)(e=>{switch(e){case"work":return 60*t.workDuration;case"shortBreak":return 60*t.shortBreakDuration;case"longBreak":return 60*t.longBreakDuration}},[t]),w=(0,o.useCallback)(()=>{let e=k(d.mode);c(e),n(t=>({...t,minutes:Math.floor(e/60),seconds:e%60,isRunning:!1}))},[d.mode,k]),y=(0,o.useCallback)(e=>{let t=k(e);c(t),n(a=>({...a,mode:e,minutes:Math.floor(t/60),seconds:t%60,isRunning:!1}))},[k]),h=(0,o.useCallback)(()=>{n(e=>({...e,isRunning:!e.isRunning}))},[]),g=(0,o.useCallback)(async a=>{let o={id:crypto.randomUUID(),taskId:d.currentTaskId,taskTitle:d.currentTaskTitle,type:d.mode,duration:l,completedAt:new Date,notes:a};u(e=>[o,...e]);try{await (0,r.dU)({task:d.currentTaskTitle||"No task selected",type:d.mode,duration:l,timestamp:o.completedAt.toISOString(),notes:a})}catch(e){console.warn("Failed to log session to n8n:",e)}if("work"===d.mode&&d.currentTaskId&&e)try{await e(d.currentTaskId)}catch(e){console.warn("Failed to increment task pomodoros:",e)}return"work"===d.mode?(y(d.session%t.longBreakInterval==0?"longBreak":"shortBreak"),n(e=>({...e,session:e.session+1}))):y("work"),o},[d,l,t.longBreakInterval,y]),x=(l-(60*d.minutes+d.seconds))/l*100,D=(0,o.useCallback)((e,t)=>`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`,[]),N=(0,o.useCallback)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(e);return t.setDate(t.getDate()+1),m.filter(a=>{if(!a.completedAt)return!1;let o=new Date(a.completedAt);return o>=e&&o<t})},[m]),b=(0,o.useCallback)(e=>m.filter(t=>t.taskId===e),[m]);return{timer:d,settings:t,totalSeconds:l,progress:x,completedSessions:m,toggleTimer:h,resetTimer:w,switchMode:y,setCurrentTask:f,updateSettings:p,completeSession:g,formatTime:D,getTodaySessions:N,getSessionsByTask:b,TIMER_MODES:i,isWorkSession:"work"===d.mode,currentDisplay:D(d.minutes,d.seconds),todayWorkSessions:N().filter(e=>"work"===e.type).length}}},29750:(e,t,a)=>{a.d(t,{X:()=>d});var o=a(17577),r=a(7007),s=a(94215);let i=[{id:"1",title:"Complete project documentation",description:"Write comprehensive docs for the new feature",status:"doing",priority:"high",estimatedPomodoros:3,completedPomodoros:1,dueDate:new Date(Date.now()+1728e5),createdAt:new Date,completed:!1},{id:"2",title:"Review code changes",status:"backlog",priority:"medium",estimatedPomodoros:2,completedPomodoros:0,createdAt:new Date,completed:!1},{id:"3",title:"Update dependencies",status:"done",priority:"low",estimatedPomodoros:1,completedPomodoros:1,createdAt:new Date,completed:!0}];function d(){let[e,t]=(0,o.useState)([]),[a,d]=(0,o.useState)(!0),[n,l]=(0,o.useState)(null),{toast:c}=(0,s.pm)(),m=async()=>{try{if(d(!0),l(null),!(0,r.zt)("N8N_WEBHOOK_GET_TASKS")){t(i),d(!1);return}let e=await (0,r.Ak)(),a=Array.isArray(e)?e.map(e=>({...e,estimatedPomodoros:Number(e.estimatedPomodoros)||1,completedPomodoros:Number(e.completedPomodoros)||0,status:e.status||"backlog",priority:e.priority||"medium",completed:"done"===e.status||!0===e.completed,dueDate:e.dueDate?new Date(e.dueDate):void 0,createdAt:e.createdAt?new Date(e.createdAt):new Date})):[];t(a)}catch(e){console.error("Failed to fetch tasks:",e),l("Failed to fetch tasks"),t(i)}finally{d(!1)}},u=async(e,a)=>{try{try{(0,r.zt)("N8N_WEBHOOK_UPDATE_TASK")&&await (0,r.Pe)("N8N_WEBHOOK_UPDATE_TASK",{id:e,...a,dueDate:a.dueDate?.toISOString()})}catch(e){c({title:"Sync Warning",description:`Task updated locally but failed to sync: ${e instanceof Error?e.message:"Unknown error"}`,variant:"destructive"})}t(t=>t.map(t=>t.id===e?{...t,...a}:t));try{await m()}catch(e){console.warn("Failed to refresh tasks after update:",e)}}catch(e){throw c({title:"Failed to update task",description:e instanceof Error?e.message:"Unknown error",variant:"destructive"}),e}},p=async t=>{let a=e.find(e=>e.id===t);a&&await u(t,{completed:!a.completed,status:a.completed?"backlog":"done"})},f=async t=>{try{let a=e.find(e=>e.id===t);if(!a)return;let o=a.completedPomodoros+1;await u(t,{completedPomodoros:o,...o>=a.estimatedPomodoros?{status:"done",completed:!0}:{}})}catch(e){throw console.error("Failed to increment task pomodoros:",e),e}};return{tasks:e,loading:a,error:n,addTask:async e=>{try{let a={id:crypto.randomUUID(),title:e.title,description:e.description,status:"backlog",priority:e.priority||"medium",estimatedPomodoros:e.estimatedPomodoros||1,completedPomodoros:0,dueDate:e.dueDate,createdAt:new Date,completed:!1};try{(0,r.zt)("N8N_WEBHOOK_ADD_TASK")&&await (0,r.Pe)("N8N_WEBHOOK_ADD_TASK",{id:a.id,title:a.title,description:a.description,status:a.status,priority:a.priority,estimatedPomodoros:a.estimatedPomodoros,completedPomodoros:a.completedPomodoros,dueDate:a.dueDate?.toISOString(),createdAt:a.createdAt.toISOString()})}catch(e){c({title:"Sync Warning",description:`Task created locally but failed to sync: ${e instanceof Error?e.message:"Unknown error"}`,variant:"destructive"})}t(e=>[a,...e]);try{await m()}catch(e){console.warn("Failed to refresh tasks after add:",e)}return a}catch(e){throw c({title:"Failed to create task",description:e instanceof Error?e.message:"Unknown error",variant:"destructive"}),e}},updateTask:u,deleteTask:async e=>{try{try{(0,r.zt)("N8N_WEBHOOK_DELETE_TASK")&&await (0,r.Pe)("N8N_WEBHOOK_DELETE_TASK",{id:e})}catch(e){c({title:"Sync Warning",description:`Task deleted locally but failed to sync: ${e instanceof Error?e.message:"Unknown error"}`,variant:"destructive"})}t(t=>t.filter(t=>t.id!==e));try{await m()}catch(e){console.warn("Failed to refresh tasks after delete:",e)}}catch(e){throw c({title:"Failed to delete task",description:e instanceof Error?e.message:"Unknown error",variant:"destructive"}),e}},toggleTask:p,incrementTaskPomodoros:f,getTask:t=>e.find(e=>e.id===t),refetch:m}}}};